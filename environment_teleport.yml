# Directory
log_dir: /logs
output_dir: /outputs
save_dir: /models
wandb_dir: /wandb

# Weights & Biases
project_name: "phasic-exploration--dcpg"
model_name: "PPO - Teleport RND - Warmup"

# Experiment
log_interval: 10
num_eval_episodes: 100

# Environment
distribution_mode: easy
num_levels: 200
start_level: 0
num_env_steps: 2.5e+7
normalize_reward: True

# Rollout
num_processes: 64
num_steps: 256

# Policy gradient
gamma: 0.999
gae_lambda: 0.95

# Actor-critic
actor_critic_class: PPOModel
actor_critic_params:
  shared: True

# State buffer
# used for the separate buffers - state_buffer_size: 4_096
state_buffer_size: 16_448
# state_buffer_size: 500_000
prob_to_teleport: .8
teleport_warmup: 2_000_000
# teleport_warmup: 0
use_rnd: True
rnd_epoch: 1
# rnd_epoch: 0.025
buffer_type: "LevelRND"
# buffer_type: "RND"
add_batch_size: 32

# Agent
agent_class: PPO
agent_params:
  # PPO params
  clip_param: 0.2
  ppo_epoch: 3
  num_mini_batch: 8
  value_loss_coef: 0.5
  entropy_coef: 0.01
  lr: 5.0e-4
  eps: 1.0e-5
  max_grad_norm: 0.5
name: ppo_procgen
channels:
  - pytorch
  - defaults
dependencies:
  - _libgcc_mutex=0.1=main
  - _openmp_mutex=5.1=1_gnu
  - blas=1.0=mkl
  - ca-certificates=2024.3.11=h06a4308_0
  - cudatoolkit=11.3.1=h2bc3f7f_2
  - intel-openmp=2023.1.0=hdb19cb5_46306
  - ld_impl_linux-64=2.38=h1181459_1
  - libffi=3.4.4=h6a678d5_0
  - libgcc-ng=11.2.0=h1234567_1
  - libgomp=11.2.0=h1234567_1
  - libstdcxx-ng=11.2.0=h1234567_1
  - libuv=1.44.2=h5eee18b_0
  - mkl=2023.1.0=h213fc3f_46344
  - ncurses=6.4=h6a678d5_0
  - openssl=3.0.13=h7f8727e_0
  - pip=23.3.1=py38h06a4308_0
  - python=3.8.19=h955ad1f_0
  - pytorch=1.11.0=py3.8_cuda11.3_cudnn8.2.0_0
  - pytorch-mutex=1.0=cuda
  - readline=8.2=h5eee18b_0
  - setuptools=68.2.2=py38h06a4308_0
  - sqlite=3.41.2=h5eee18b_0
  - tbb=2021.8.0=hdb19cb5_0
  - tk=8.6.12=h1ccaba5_0
  - typing_extensions=4.9.0=py38h06a4308_1
  - wheel=0.41.2=py38h06a4308_0
  - xz=5.4.6=h5eee18b_0
  - zlib=1.2.13=h5eee18b_0
  - tensorflow=2.4
  - pip:
    - absl-py==2.1.0
    - appdirs==1.4.4
    - astunparse==1.6.3
    - cachetools==5.3.3
    - certifi==2024.2.2
    - cffi==1.16.0
    - charset-normalizer==3.3.2
    - click==8.1.7
    - cloudpickle==1.2.2
    - contourpy==1.1.1
    - cycler==0.12.1
    - decorator==4.4.2
    - dill==0.3.8
    - dm-env==1.6
    - dm-tree==0.1.8
    - docker-pycreds==0.4.0
    - farama-notifications==0.0.4
    - filelock==3.13.4
    - flatbuffers==1.12
    - fonttools==4.51.0
    - future==1.0.0
    - gast==0.4.0
    - gitdb==4.0.11
    - gitpython==3.1.43
    - glcontext==2.5.0
    - glfw==1.12.0
    - google-auth==2.29.0
    - google-auth-oauthlib==0.4.6
    - google-pasta==0.2.0
    - grpcio==1.62.1
    - gym==0.15.7
    - gym-notices==0.0.8
    - gym3==0.3.3
    - gymnasium==0.29.1
    - h5py==3.11.0
    - idna==3.7
    - imageio==2.34.0
    - imageio-ffmpeg==0.3.0
    - importlib-metadata==7.1.0
    - importlib-resources==6.4.0
    - joblib==1.4.0
    - keras==2.9.0
    - keras-preprocessing==1.1.2
    - kiwisolver==1.4.5
    - libclang==18.1.1
    - markdown==3.6
    - markupsafe==2.1.5
    - matplotlib==3.7.5
    - moderngl==5.10.0
    - moviepy==1.0.3
    - numpy==1.23.0
    - oauthlib==3.2.2
    - opencv-python==4.9.0.80
    - opt-einsum==3.3.0
    - optree==0.11.0
    - packaging==24.0
    - pandas==2.0.3
    - pillow==10.3.0
    - procgen==0.10.7
    - proglog==0.1.10
    - protobuf==3.19.6
    - psutil==5.9.8
    - pyasn1==0.6.0
    - pyasn1-modules==0.4.0
    - pycparser==2.22
    - pyglet==1.5.0
    - pyparsing==3.1.2
    - python-dateutil==2.9.0.post0
    - pytz==2024.1
    - pyvirtualdisplay==3.0
    - pyyaml==6.0.1
    - requests==2.31.0
    - requests-oauthlib==2.0.0
    - rsa==4.9
    - scipy==1.10.1
    - seaborn==0.13.2
    - sentry-sdk==1.45.0
    - setproctitle==1.3.3
    - six==1.16.0
    - smmap==5.0.1
    - tensorboard==2.9.1
    - tensorboard-data-server==0.6.1
    - tensorboard-plugin-wit==1.8.1
    - tensorflow-estimator==2.9.0
    - tensorflow-io-gcs-filesystem==0.34.0
    - termcolor==2.4.0
    - tqdm==4.66.2
    - types-protobuf==4.25.0.20240410
    - typing-extensions==4.11.0
    - tzdata==2024.1
    - urllib3==2.2.1
    - wandb==0.16.6
    - werkzeug==3.0.2
    - wrapt==1.16.0
    - zipp==3.18.1
#    - dcpg@git+https://github.com/chorsch/DCPG@feat/teleport
    - baselines@git+https://github.com/MWeltevrede/baselines@feat/wandb
